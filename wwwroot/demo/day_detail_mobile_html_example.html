<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Day Detail — Homeschool Planner</title>
  <style>
    :root{
      --bg:#0b0c10;        /* deep slate */
      --card:#111319;      /* panel */
      --fg:#e8ecf1;        /* text */
      --muted:#9aa6b2;     /* secondary text */
      --primary:#7aa2ff;   /* brand */
      --accent:#5ee1a9;    /* success */
      --warn:#ffc857;      /* warning */
      --danger:#ff6b6b;    /* danger */
      --border:#202532;
      --chip:#1a1f2b;
      --shadow: 0 6px 24px rgba(0,0,0,.35);
      --radius: 16px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:linear-gradient(180deg,#0a0b0f 0%,#0b0c10 80%);color:var(--fg);font:15px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
    a{color:var(--primary);text-decoration:none}
    .app{max-width:430px;margin-inline:auto;min-height:100%;display:flex;flex-direction:column}
    .app-bar{position:sticky;top:0;z-index:5;backdrop-filter:blur(8px);background:linear-gradient(180deg,rgba(13,16,24,.9),rgba(13,16,24,.75));border-bottom:1px solid var(--border)}
    .bar-inner{display:flex;align-items:center;gap:.75rem;padding:.85rem 1rem}
    .back{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem .75rem;border:1px solid var(--border);border-radius:999px;background:var(--chip);color:var(--fg)}
    .back svg{width:18px;height:18px}
    .title{margin-left:.25rem;font-weight:700}
    .subtitle{margin-left:auto;color:var(--muted);font-size:.9rem}

    main{flex:1;display:flex;flex-direction:column;gap:1rem;padding:1rem}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow)}
    .pad{padding:1rem}

    /* Summary */
    .summary{display:grid;grid-template-columns:1fr auto;gap:.75rem;align-items:center}
    .summary .who{font-weight:700}
    .summary .status{color:var(--accent);font-weight:600}
    .meter{grid-column:1/-1;height:10px;background:#0f131c;border:1px solid var(--border);border-radius:999px;overflow:hidden}
    .meter > span{display:block;height:100%;background:linear-gradient(90deg,var(--primary),#8ad2ff);width:72%}
    .kv{display:flex;gap:1.25rem;color:var(--muted);font-size:.92rem}

    /* Timeline */
    .section-h{display:flex;align-items:center;justify-content:space-between;margin:.25rem 0 .5rem}
    .section-h h2{font-size:1rem;margin:0;color:#d6deea}
    .timeline{display:flex;flex-direction:column;gap:.75rem}
    .block{position:relative;display:grid;grid-template-columns:88px 1fr;gap:.75rem;padding:0.85rem;border-radius:calc(var(--radius) - 6px);border:1px solid var(--border);background:#0f121a}
    .block.selected{outline:2px solid var(--primary);outline-offset:1px}
    .time{color:var(--muted);font-weight:600}
    .subject{font-weight:700}
    .details{color:var(--muted)}
    .tags{display:flex;flex-wrap:wrap;gap:.4rem;margin-top:.35rem}
    .tag{padding:.25rem .5rem;border-radius:999px;background:var(--chip);border:1px solid var(--border);color:#c9d3df;font-size:.8rem}
    .tag.success{color:#032d1f;background:linear-gradient(180deg,#73f0be,#27d391);border-color:#27d391}
    .tag.warn{color:#3c2a00;background:linear-gradient(180deg,#ffd585,#ffb347);border-color:#ffcc80}
    .tag.soon{color:#132140;background:linear-gradient(180deg,#b9d4ff,#7aa2ff);border-color:#8cb6ff}
    .block.completed{opacity:.68}

    /* Suggestions */
    .chips{display:flex;flex-wrap:wrap;gap:.5rem}
    .chip{padding:.5rem .75rem;border-radius:999px;background:var(--chip);border:1px solid var(--border);font-weight:600;color:#d1dbeb}
    .chip:hover{border-color:#2a3344}

    /* Evidence */
    .evidence textarea{width:100%;min-height:96px;border-radius:12px;border:1px solid var(--border);background:#0e1218;color:var(--fg);padding:.75rem;resize:vertical}
    .row{display:flex;gap:.75rem;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.65rem .9rem;border-radius:12px;border:1px solid var(--border);background:#0f141c;color:var(--fg);font-weight:700}
    .btn.primary{background:linear-gradient(180deg,#7aa2ff,#547dff);border-color:#688fff;color:#0b1533}
    .btn.ghost{background:transparent}
    .btn.warn{background:linear-gradient(180deg,#ffd585,#ffb347);color:#3c2a00;border-color:#ffc66a}

    /* Sticky action bar (contextual to selected task) */
    .actionbar{position:sticky;bottom:0;z-index:6;padding:.75rem 1rem;background:linear-gradient(180deg,rgba(10,12,18,.4),rgba(10,12,18,.85));backdrop-filter:blur(10px);border-top:1px solid var(--border)}
    .ab-inner{display:flex;flex-wrap:wrap;align-items:center;gap:.5rem}
    .ab-title{flex:1;color:var(--muted)}

    /* Accessibility helpers */
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}

    @media (min-width:440px){
      body{font-size:16px}
    }
  </style>
</head>
<body>
  <div class="app" role="application">
    <header class="app-bar" aria-label="Day Detail navigation">
      <div class="bar-inner">
        <a href="#week" class="back" aria-label="Back to week">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
          <span>Week</span>
        </a>
        <div class="title" aria-live="polite">Wed • Oct 11</div>
        <div class="subtitle">Allen • Grade 3</div>
      </div>
    </header>

    <main>
      <!-- Summary -->
      <section class="card pad summary" aria-labelledby="sum-h">
        <h1 id="sum-h" class="who">Planned 175m <span class="status">• On track</span></h1>
        <div class="kv" aria-hidden="true">
          <div>Target: 180m</div>
          <div>Completed: 0m</div>
        </div>
        <div class="meter" role="progressbar" aria-valuemin="0" aria-valuemax="180" aria-valuenow="126" aria-label="Planned vs target">
          <span style="width: 97%"></span>
        </div>
      </section>

      <!-- Timeline -->
      <div class="section-h">
        <h2 id="tl-h">Timeline</h2>
        <div class="chips" aria-label="Quick nav">
          <button class="chip" data-go="now">Now</button>
          <button class="chip" data-go="next">Next</button>
        </div>
      </div>
      <section class="timeline" aria-labelledby="tl-h">
        <article class="block selected" tabindex="0" data-id="t1" data-status="planned" aria-label="English Spelling Workout, 9:00 to 9:35">
          <div class="time">9:00–9:35</div>
          <div>
            <div class="subject">English — Spelling Workout</div>
            <div class="details">Unit 13 • Test on Fri</div>
            <div class="tags"><span class="tag soon">today</span></div>
          </div>
        </article>

        <article class="block" tabindex="0" data-id="t2" data-status="planned" aria-label="Math Saxon 1 Lesson 23, 9:40 to 10:40">
          <div class="time">9:40–10:40</div>
          <div>
            <div class="subject">Math — Saxon 1</div>
            <div class="details">Lesson 23 • Est. 60m</div>
            <div class="tags"><span class="tag">practice</span></div>
          </div>
        </article>

        <article class="block" tabindex="0" data-id="t3" data-status="planned" aria-label="Movement break, 10:40 to 10:50">
          <div class="time">10:40–10:50</div>
          <div>
            <div class="subject">Movement break</div>
            <div class="details">Stretch or quick walk</div>
            <div class="tags"><span class="tag">wellbeing</span></div>
          </div>
        </article>

        <article class="block" tabindex="0" data-id="t4" data-status="planned" aria-label="History Lesson 4, 10:50 to 11:30">
          <div class="time">10:50–11:30</div>
          <div>
            <div class="subject">History</div>
            <div class="details">Lesson 4 • Map activity</div>
            <div class="tags"><span class="tag warn">long focus</span></div>
          </div>
        </article>

        <article class="block" tabindex="0" data-id="t5" data-status="planned" aria-label="Piano practice, 11:30 to 11:50">
          <div class="time">11:30–11:50</div>
          <div>
            <div class="subject">Piano practice</div>
            <div class="details">Major scale warmups</div>
            <div class="tags"><span class="tag">elective</span></div>
          </div>
        </article>
      </section>

      <!-- Suggestions -->
      <section class="card pad" aria-labelledby="sg-h">
        <h2 id="sg-h" style="margin:0 0 .5rem">Suggestions</h2>
        <div class="chips">
          <button class="chip" id="chip-split">Split History M/W/F</button>
          <button class="chip" id="chip-break">Insert 10m break</button>
        </div>
      </section>

      <!-- Evidence quick add -->
      <section class="card pad evidence" aria-labelledby="ev-h">
        <h2 id="ev-h" style="margin:0 0 .5rem">Quick evidence</h2>
        <textarea placeholder="Notes about what was learned…"></textarea>
        <div class="row" style="margin-top:.6rem">
          <label class="btn ghost" for="photo">Add photo</label>
          <input id="photo" type="file" accept="image/*" class="sr-only" />
          <button class="btn">Attach to selected task</button>
        </div>
      </section>

      <div class="row" style="justify-content:space-between;gap:.5rem">
        <a href="#week" class="btn ghost">Back to week</a>
        <a href="#today" class="btn primary">Go to Today</a>
      </div>
    </main>

    <!-- Sticky contextual action bar -->
    <footer class="actionbar" aria-live="polite">
      <div class="ab-inner">
        <div class="ab-title" id="ab-title">Selected: English — Spelling Workout</div>
        <button class="btn" id="btn-complete">Complete</button>
        <button class="btn warn" id="btn-skip">Skip → Catch-up</button>
        <button class="btn" id="btn-extra">Do Extra</button>
      </div>
    </footer>
  </div>

  <script>
    // ---- Minimal interactivity to demonstrate behaviors ----
    const blocks = Array.from(document.querySelectorAll('.block'));
    const title = document.getElementById('ab-title');
    const completeBtn = document.getElementById('btn-complete');
    const skipBtn = document.getElementById('btn-skip');
    const extraBtn = document.getElementById('btn-extra');
    const chipBreak = document.getElementById('chip-break');

    let current = blocks[0];

    function select(block){
      if(!block) return;
      current?.classList.remove('selected');
      current = block;
      current.classList.add('selected');
      const subj = current.querySelector('.subject')?.textContent?.trim() || 'Task';
      title.textContent = `Selected: ${subj}`;
    }

    blocks.forEach(b => {
      b.addEventListener('click', () => select(b));
      b.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); select(b); } });
    });

    completeBtn.addEventListener('click', () => {
      if(!current) return;
      current.dataset.status = 'completed';
      current.classList.add('completed');
      const tag = document.createElement('span');
      tag.className = 'tag success';
      tag.textContent = 'completed';
      current.querySelector('.tags').appendChild(tag);
    });

    skipBtn.addEventListener('click', () => {
      if(!current) return;
      current.dataset.status = 'skipped';
      const tag = document.createElement('span');
      tag.className = 'tag warn';
      tag.textContent = 'catch-up queued';
      current.querySelector('.tags').appendChild(tag);
    });

    extraBtn.addEventListener('click', () => {
      if(!current) return;
      const clone = current.cloneNode(true);
      clone.dataset.id = current.dataset.id + '-extra';
      clone.querySelector('.details').textContent += ' • (extra)';
      clone.classList.remove('selected','completed');
      document.querySelector('.timeline').appendChild(clone);
      blocks.push(clone);
    });

    chipBreak.addEventListener('click', () => {
      // Insert a 10m break block after the selected item
      const br = document.createElement('article');
      br.className = 'block';
      br.dataset.id = 'break-auto';
      br.innerHTML = `
        <div class="time">(10m)</div>
        <div>
          <div class="subject">Inserted break</div>
          <div class="details">Quick stretch</div>
          <div class="tags"><span class="tag">wellbeing</span></div>
        </div>`;
      current.after(br);
      br.addEventListener('click', () => select(br));
    });
  </script>
</body>
</html>
